import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs/blocks";

<Meta
	title="Philosophy/Typer"
	parameters={{ previewTabs: { 'canvas': { hidden: true }}}}
/>

# Typer

One of the foundation stones of AÃ§ai is the typer and it's proposal. It's somehow similar to an event system. But focused for handling how data flows through the application. It was designed to be easily scalable, overwritable and extendable. There are two specifications for the typer usage: the caller type and the receiver type, think of them as a certain kind of router, where you have a list of receivers types (routes) and a caller (url path) that can match one or more of them.

## Rules
Rules are base concepts of the typer or rules that can extend or modify it's behaviour. They can be combined to create really complex behaviours.

### Callback rule (receiver)
All receivers list must be of a type callback, what they return is up to them.

#### Examples
``` typescript
const listOfTypes = {
	"id": () => {
		// returns info about the field
		return {
			type: "string",
			length: 11,
		};
	},
	"id.save": () => {
		// save the field
	}
};
```

### Hierarchy rule (both)
Hierarchy flows from left to right, being the most generic/abstract on the left, and the most specific/implementation to the right.

#### Examples
``` typescript
"id.save"
"string.id.save"
"application.router.build"
```

### Or rule (both)
The character `|` specify the or rule. Making the type available in a exact match for every form.

#### Examples
``` typescript
"|id.save"

// is equivalent to writing to types:
"id"
"id.save"
```

### Exact rule (both)
The character `!` specify the exact rule. Making the type available only if the type call is the exact the same.

#### Examples
``` typescript
"!id.save"

// won't match with
"id"
```

### Reverse rule (caller)
The character `*` specify the reverse rule. Inversing the match with the receiver types.

#### Examples
``` typescript
"*id.save"

// will match with
"save.id"
// but not with
"id.save"
```

### Jump rule (both)
The character `^` specify the jump rule. Allowing the caller to start the match from any place of the hierarchy.

#### Examples
``` typescript
"^save"

// will match with
"save.id"
"id.save"
"string.random.save"
```

### Nonjump rule (receiver)
The character `~` specify the exact rule. Forcing a caller with the jump rule to start from the beginning of the hierarchy.

## Complete examples